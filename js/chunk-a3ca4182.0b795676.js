(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a3ca4182","chunk-60c5611a"],{"212c":function(t,e,o){"use strict";o.r(e);var i=o("7a23");const s=t=>(Object(i["y"])("data-v-43b56438"),t=t(),Object(i["w"])(),t),c={class:"form-control"},a=s(()=>Object(i["i"])("label",{for:"email"},"E-mail",-1)),n={class:"form-control"},r=s(()=>Object(i["i"])("label",{for:"password"},"Ppassword",-1)),l={key:0};function d(t,e,o,s,d,b){const u=Object(i["D"])("base-dialog"),j=Object(i["D"])("base-spinner"),O=Object(i["D"])("base-button"),h=Object(i["D"])("base-card");return Object(i["v"])(),Object(i["h"])("div",null,[Object(i["k"])(u,{show:!!d.error,title:"An error occured",onClose:b.handleError},{default:Object(i["L"])(()=>[Object(i["i"])("p",null,Object(i["G"])(d.error),1)]),_:1},8,["show","onClose"]),Object(i["k"])(u,{fixed:"",show:d.isLoading,title:"Authenticating..."},{default:Object(i["L"])(()=>[Object(i["k"])(j)]),_:1},8,["show"]),Object(i["k"])(h,null,{default:Object(i["L"])(()=>[Object(i["i"])("form",{onSubmit:e[2]||(e[2]=Object(i["N"])((...t)=>b.submitForm&&b.submitForm(...t),["prevent"]))},[Object(i["i"])("div",c,[a,Object(i["M"])(Object(i["i"])("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>d.email=t)},null,512),[[i["J"],d.email,void 0,{trim:!0}]])]),Object(i["i"])("div",n,[r,Object(i["M"])(Object(i["i"])("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>d.password=t)},null,512),[[i["J"],d.password,void 0,{trim:!0}]])]),d.formIsValid?Object(i["g"])("",!0):(Object(i["v"])(),Object(i["h"])("p",l," Please enter a valid email and password (at least 6 characters long). ")),Object(i["k"])(O,null,{default:Object(i["L"])(()=>[Object(i["j"])(Object(i["G"])(b.submitButtonCaption),1)]),_:1}),Object(i["k"])(O,{onClick:b.switchAuthMode,type:"button",mode:"flat"},{default:Object(i["L"])(()=>[Object(i["j"])(Object(i["G"])(b.switchModeButtonCaption),1)]),_:1},8,["onClick"])],32)]),_:1})])}var b=o("d086"),u={components:{BaseDialog:b["default"]},data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Singup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);const e="/"+(this.$route.query.redirect||"coaches");this.$router.replace(e)}catch(e){this.error=e.message||"Failed to authenticate, try again later"}this.isLoading=!1},switchAuthMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},j=(o("5969"),o("6b0d")),O=o.n(j);const h=O()(u,[["render",d],["__scopeId","data-v-43b56438"]]);e["default"]=h},5969:function(t,e,o){"use strict";o("65b3")},"65b3":function(t,e,o){},"6b47":function(t,e,o){"use strict";o("91d6")},"91d6":function(t,e,o){},d086:function(t,e,o){"use strict";o.r(e);var i=o("7a23");const s={key:0,open:""},c={key:0};function a(t,e,o,a,n,r){const l=Object(i["D"])("base-button");return Object(i["v"])(),Object(i["f"])(i["b"],{to:"body"},[o.show?(Object(i["v"])(),Object(i["h"])("div",{key:0,onClick:e[0]||(e[0]=(...t)=>r.tryClose&&r.tryClose(...t)),class:"backdrop"})):Object(i["g"])("",!0),Object(i["k"])(i["c"],{name:"dialog"},{default:Object(i["L"])(()=>[o.show?(Object(i["v"])(),Object(i["h"])("dialog",s,[Object(i["i"])("header",null,[Object(i["C"])(t.$slots,"header",{},()=>[Object(i["i"])("h2",null,Object(i["G"])(o.title),1)],!0)]),Object(i["i"])("section",null,[Object(i["C"])(t.$slots,"default",{},void 0,!0)]),o.fixed?Object(i["g"])("",!0):(Object(i["v"])(),Object(i["h"])("menu",c,[Object(i["C"])(t.$slots,"actions",{},()=>[Object(i["k"])(l,{onClick:r.tryClose},{default:Object(i["L"])(()=>[Object(i["j"])("Close")]),_:1},8,["onClick"])],!0)]))])):Object(i["g"])("",!0)]),_:3})])}var n={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}},r=(o("6b47"),o("6b0d")),l=o.n(r);const d=l()(n,[["render",a],["__scopeId","data-v-09c45808"]]);e["default"]=d}}]);
//# sourceMappingURL=chunk-a3ca4182.0b795676.js.map